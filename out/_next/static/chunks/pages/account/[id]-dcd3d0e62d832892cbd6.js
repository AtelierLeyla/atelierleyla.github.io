_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[15],{"HaE+":function(t,e,n){"use strict";function l(t,e,n,l,r,a,o){try{var c=t[a](o),i=c.value}catch(s){return void n(s)}c.done?e(i):Promise.resolve(i).then(l,r)}function r(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function c(t){l(o,r,a,c,i,"next",t)}function i(t){l(o,r,a,c,i,"throw",t)}c(void 0)}))}}n.d(e,"a",(function(){return r}))},wGCd:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account/[id]",function(){return n("zfUn")}])},zfUn:function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"default",(function(){return y}));var l=n("o0o1"),r=n.n(l),a=n("HaE+"),o=n("q1tI"),c=n.n(o),i=n("8Kt/"),s=n.n(i),u=n("YFqc"),d=n.n(u),m=n("nOHt"),f=n.n(m),p=n("/MKj"),h=n("wd/R"),v=n.n(h),_=n("EfCc"),g=n("ZHqB"),w=n("pI11"),b=c.a.createElement;function y(){var e=Object(m.useRouter)().query.id,n=Object(o.useState)(null),l=n[0],c=(n[1],Object(o.useState)(!0)),i=c[0],u=c[1],h=Object(o.useState)(null),y=h[0],N=h[1],x=Object(p.c)((function(t){return t.customer}));f.a.push("/"),Object(o.useEffect)((function(){(function(){var t=Object(a.a)(r.a.mark((function t(e){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:u(!1),N(null===(n=err)||void 0===n?void 0:n.message);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}})()(e)}),[e]);var S=function(t){var e=t.image;return e.media?b("img",{className:"img-thumbnail h-72 mr-4",alt:e.product_name,src:e.media.source}):null},E=function(t){var e=t.page;return b(_.a,null,b(s.a,null,b("title",null,"commerce")),b("div",{className:"py-5 my-5 text-center"},b("h4",{className:"mt-4"},e.message)),b(g.a,null))};return x?y?b(E,{page:{message:"Sorry something went wrong."}}):i?b(E,{page:{message:"Loading"}}):l?b(_.a,null,b(s.a,null,b("title",null,l.customer_reference," | commerce")),b("div",{className:"account-container"},b("div",{className:"custom-container py-5 my-4 my-sm-5"},b("div",{className:"row mt-4"},b("div",{className:"col-12"},b("div",{className:"d-flex pb-4 breadcrumb-container"},b(d.a,{href:"/account",as:t.env.BACKEND_URL+"/account"},b("div",{className:"font-size-caption text-decoration-underline cursor-pointer"},"Account")),b("img",{src:"/icon/arrow-right.svg",className:"w-16 mx-1",alt:"Arrow icon"}),b("div",{className:"font-size-caption font-weight-bold cursor-pointer"},l.customer_reference)))),b("div",{className:"row mt-5 pt-5"},b("div",{className:"col-12"},b("h2",{className:"font-size-header mb-4 pt-5 text-center"},"Order: #",l.customer_reference),alert)),b("div",{className:"row mt-5 pt-5"},b("div",{className:"col-12 col-md-8 col-lg-8"},b("div",{className:"d-flex flex-row justify-content-between"},b("h5",null,"Items"),b((function(t){var e=t.date;if(!e)return null;var n=v.a.unix(e);return n.isValid?b("small",null,b("strong",null,"Ordered placed on:")," ",v()(n).format("MMM Do Y")):null}),{date:l.created})),b("table",{className:"table table-bordered"},b("thead",null,b("tr",null,b("th",null,"Product"),b("th",null,"Price"),b("th",null,"Quantity"),b("th",null,"Total"))),b("tbody",null,l.order.line_items.map((function(t){return b("tr",{key:t.id},b("td",null,b(S,{image:t}),t.product_name),b("td",null,t.price.formatted_with_symbol),b("td",null,t.quantity),b("td",null,t.line_total.formatted_with_symbol))}))),b("tfoot",null,b("tr",null,b("td",{colSpan:"3",className:"border-right-0"},"Subtotal"),b("td",{className:"border-left-0 text-right"},l.order.subtotal.formatted_with_symbol)),b("tr",null,b("td",{colSpan:"3",className:"border-right-0"},"Shipping"),b("td",{className:"border-left-0 text-right"},l.order.shipping.price.formatted_with_symbol)),b("tr",null,b("td",{colSpan:"3",className:"border-right-0"},"Tax"),b("td",{className:"border-left-0 text-right"},l.order.tax.amount.formatted_with_symbol)),b("tr",null,b("td",{colSpan:"3",className:"border-right-0"},b("strong",null,"Total")),b("td",{className:"border-left-0 text-right"},b("strong",null,l.order.total.formatted_with_symbol)))))),b("div",{className:"col-12 col-md-4 col-lg-4 row-content"},b((function(t){var e=t.address;return 0===e.length?null:b("div",null,b("h5",null,"Billing address"),b("div",{className:"card p-2 mb-4"},b("div",null,b("div",null,b("strong",null,e.name)),b("div",null,e.street),b("div",null,e.town_city,e.town_city&&e.county_state?",":""," ",e.county_state),b("div",null,e.country,e.town_city&&e.county_state?",":""," ",e.postal_zip_code))))}),{address:l.billing}),b((function(t){var e=t.address;return 0===e.length?null:b("div",null,b("h5",null,"Shipping address"),b("div",{className:"card p-2"},b("div",null,b("div",null,b("strong",null,e.name)),b("div",null,e.street),b("div",null,e.town_city,e.town_city&&e.county_state?",":""," ",e.county_state),b("div",null,e.country,e.town_city&&e.county_state?",":""," ",e.postal_zip_code))))}),{address:l.shipping}))))),b(g.a,null)):b(E,{page:{message:"Sorry we cannot find an order witht that number, if you think this is in error please contact us!"}}):b(w.default,null)}}.call(this,n("8oxB"))}},[["wGCd",2,1,4,7,0,3,5,8]]]);