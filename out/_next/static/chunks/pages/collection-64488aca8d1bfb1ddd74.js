_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[18],{CvLZ:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/collection",function(){return n("WXy6")}])},WXy6:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),o=n.n(r),i=n("8Kt/"),a=n.n(i),c=n("EfCc"),l=n("dC16"),s=n("1OyB"),u=n("vuIU"),d=n("JX7q"),m=n("Ji7U"),f=n("md7G"),p=n("foSv"),v=n("YFqc"),b=n.n(v),h=n("/MKj"),g=o.a.createElement;function y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(p.a)(e);if(t){var o=Object(p.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(f.a)(this,n)}}var N=function(e){Object(m.a)(n,e);var t=y(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).sidebar=o.a.createRef(),r.page=o.a.createRef(),r.handleScroll=r.handleScroll.bind(Object(d.a)(r)),r}return Object(u.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.handleScroll)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handleScroll)}},{key:"handleScroll",value:function(){var e=this;window.requestAnimationFrame((function(){if(e.page.current){var t=e.page.current.getBoundingClientRect().bottom-window.innerHeight;e.sidebar.current.style.transform=t<0?"translateY(".concat(t,"px)"):"translateY(0px)"}}))}},{key:"renderSidebar",value:function(){var e=this.props.categories;return g(o.a.Fragment,null,e.map((function(e){return g("div",{key:e.id,className:"custom-container"},g("div",{className:"row"},g("div",{className:"col-2 d-none d-lg-block position-relative"},g("p",{className:"font-size-title font-weight-medium mb-3"},e.name),g(b.a,{href:"/collection#".concat(e.slug)},g("div",{className:"mb-5"},g("div",{className:"d-flex"},g("p",{className:"mb-2 position-relative cursor-pointer"},"Products",g("span",{className:"position-absolute font-size-tiny text-right",style:{right:"-12px",top:"-4px"}},e.count))))))))})))}},{key:"filterProductsByCat",value:function(e){var t=this.props,n=t.categories,r=t.products,o=n.find((function(t){return t.slug===e}));return o?r.filter((function(e){return e.categories.find((function(e){return e.id===o.id}))})):[]}},{key:"renderCollection",value:function(){var e=this,t=this.props.categories,n=/(<([^>]+)>)/gi;return g("div",{className:"collection"},t.map((function(t){return g("div",{key:t.id},g("p",{className:"font-size-title font-weight-medium mb-4",id:t.slug},t.name),g("div",{className:"row mb-5 collection-1"},e.filterProductsByCat(t.slug).map((function(e){return g("div",{key:e.id,className:"col-6 col-sm-4 col-md-3"},g(b.a,{href:"/product/[permalink]",as:"/product/".concat(e.permalink)},g("a",{className:"mb-5 d-block font-color-black cursor-pointer"},g("div",{className:"mb-3",style:{paddingBottom:"125%",background:'url("'.concat(e.media.source,'") center center/cover')}}),g("p",{className:"font-size-subheader mb-2 font-weight-medium"},e.name),g("p",{className:"mb-2 font-color-medium"},e.description.replace(n,"")),g("p",{className:"font-size-subheader font-weight-medium pb-2 borderbottom border-color-black"},e.price.formatted_with_symbol))))}))))})))}},{key:"render",value:function(){return g("div",{className:"py-5 my-5"},g(a.a,null,g("title",null,"Collections")),g("div",{className:"py-4"},g("div",{ref:this.sidebar,className:"position-fixed left-0 right-0",style:{top:"7.5rem"}},this.renderSidebar()),g("div",{ref:this.page,className:"custom-container"},g("div",{className:"row"},g("div",{className:"col-12 col-lg-10 offset-lg-2"},this.renderCollection())))))}}]),n}(r.Component),w=Object(h.b)((function(e){return e}))(N),k=n("41O1"),_=n("ZHqB"),C=o.a.createElement;t.default=function(){return C(c.a,null,C(a.a,null,C("title",null,"Collection")),C(w,null),C(l.a,null),C(k.a,null),C(_.a,null))}}},[["CvLZ",2,1,4,0,3,5,6]]]);